v1.0.14 (2026-02-26)

* Breaking CLI rename:
  - `git-snapshot diff` -> `git-snapshot inspect`
  - `git-snapshot compare` -> `git-snapshot restore-check`
  - hard cut with no compatibility aliases for old names.

* Rename corresponding porcelain prefixes for consistency:
  - `diff`/`diff_file` -> `inspect`/`inspect_file`
  - `compare`/`compare_file` -> `restore_check`/`restore_check_file`.

* Update help/docs/skills/tests to reflect the new command names.

* Keep `verify` mismatch guidance aligned with new names:
  - follow-up commands now suggest `inspect` and `restore-check`.

v1.0.13 (2026-02-26)

* Move root-repo display normalization to a shared UI helper so human-facing
  output consistently shows the root folder name instead of `.`.

* Apply the shared root-label rule to additional runtime paths:
  - restore warnings/errors
  - clear failure summaries
  - verify mismatch/warning lines.

* Improve `verify` mismatch readability with concise snapshot-vs-current file
  previews for staged/unstaged/untracked differences.

* Expand regression coverage for root-label consistency and verify mismatch
  diagnostics in restore/verify tests.

v1.0.12 (2026-02-26)

* Add post-success `verify` hint in default mode explaining how to run
  `--strict-head` and why strict mode can be useful.

* Clarify strict-head guarantee in output: when strict verify passes, tracked +
  untracked non-ignored snapshot scope is exact (ignored files remain out of scope).

* Add regression assertions for verify hint behavior in default vs strict mode.

v1.0.11 (2026-02-26)

* Suppress non-actionable Git whitespace warning noise during `restore` patch
  application by applying snapshot patches with `--whitespace=nowarn`.

* Preserve restore safety behavior: patch format validation, apply checks,
  status-hash verification, and rollback logic remain unchanged.

* Add regression coverage to ensure restore output does not surface trailing
  whitespace warning spam when snapshot patches contain trailing spaces.

v1.0.10 (2026-02-26)

* Add `git-snapshot verify <snapshot_id>` to validate snapshot working-set
  parity against current state (staged/unstaged patch bytes and untracked
  non-ignored set+content), with mismatch exit code `3`.

* Add optional `--strict-head` mode for `verify`:
  - default mode keeps HEAD mismatch as warning-only (non-fatal)
  - strict mode promotes HEAD mismatch to failure when commit identity matters.

* Wire `verify` into CLI dispatch and expand help/docs/skill references to
  clarify default vs strict-head semantics and selection guidance.

* Add regression coverage for `verify` behavior:
  - default warning-only head mismatch
  - strict-head mismatch failure
  - staged/unstaged/untracked mismatch detection
  - porcelain verify output.

v1.0.9 (2026-02-26)

* Add `git-snapshot create --clear` workflow for interrupt-and-switch use:
  - snapshot-first capture, then clear (`reset --hard` + `clean -fd`)
  - interactive confirmation (`[y/N]`) by default
  - non-interactive bypass via `--yes` or `GIT_SNAPSHOT_CONFIRM_CLEAR=YES`

* Add best-effort clear behavior with per-repo failure reporting and non-zero
  exit on clear failures, while still printing snapshot id as final output line
  for immediate rollback availability.

* Add warning-only reporting for submodule HEAD drift under `--clear` (no
  forced submodule checkout/update alignment).

* Document both primary usage scenarios (blast-radius checkpoint and
  interrupt-and-switch) in README and workflow skill references.

v1.0.8 (2026-02-26)

* Change auto-generated snapshot id format to a readable timestamp-first form:
  - `YYYY-MM-DD--HH-MM-SS`
  - collision suffixes: `-02`, `-03`, ...

* Keep `create` custom-id behavior unchanged and update docs/help references to
  the new default id scheme.

v1.0.7 (2026-02-26)

* Improve human readability for `git-snapshot` repo labels:
  - show root repo by folder name instead of `.` in `show`, `diff`, and `compare`.

* Reformat `diff` and `compare` human repo summary rows to two-line entries so
  counters/signals are easier to scan in narrow terminals.

v1.0.6 (2026-02-26)

* Add `git-snapshot rename <old_snapshot_id> <new_snapshot_id>` to rename
  snapshot ids without recapturing snapshot content.

* Preserve snapshot creation metadata during rename and rewrite metadata to the
  new id for consistent `list`/`show` output.

* Add `rename --porcelain` machine output:
  - `renamed\told_id=<old>\tnew_id=<new>`

* Expand tests for rename success/failure scenarios, nested-PWD scope behavior,
  and help/docs command coverage.

v1.0.5 (2026-02-26)

* Harden snapshot metadata loading by removing shell `source` parsing from
  `meta.env`; add explicit key parsing and safe legacy-value decode support.

* Add untracked tar safety validation during restore; reject unsafe archive
  entries (absolute paths / traversal) before extraction.

* Fix commit-relation parsing portability in `compare` (`git rev-list --left-right --count`)
  to avoid tab-delimiter corruption in ahead/behind counts.

* Expand regression coverage for:
  - safe metadata loading against command-substitution payloads
  - restore rejection + rollback on unsafe untracked tar entries
  - diff/compare detail limiting and compare output integrity

v1.0.4 (2026-02-26)

* Streamline `git-snapshot diff` and `git-snapshot compare` default human output
  to summary-first mode:
  - show changed/issue-focused repo summaries by default
  - hide clean/noise-heavy repo sections unless explicitly requested
  - provide clear hints for drilling down into details

* Add detail controls for diff/compare:
  - `--all-repos`
  - `--details` (compare)
  - `--files` (detail listing)
  - `--limit <n>` / `--no-limit`

* Remove `skills/git-snapshot-workflow/scripts/link-into-repo.bash` and its
  dedicated test; keep the shared skill docs-focused without installer script.

* Tighten workflow skill guidance to default to explicit, intent-derived
  snapshot IDs instead of auto-generated IDs.

v1.0.3 (2026-02-25)

* Redesign `git-snapshot` human output for `list` and `show` to provide
  readable snapshot metadata, commit relation context, captured file inventory,
  and restore-readiness diagnostics.

* Add explicit porcelain output mode for `list` and richer porcelain records for
  `show` so scripts can consume stable machine-readable fields.

* Add new inspection commands:
  - `git-snapshot diff <snapshot_id>` to inspect captured staged/unstaged/
    untracked snapshot content
  - `git-snapshot compare <snapshot_id>` to evaluate restore compatibility with
    explicit compatibility exit codes (`0` clean, `3` issues).

* Add new inspection helpers in `lib/git-snapshot/inspect.bash` for commit
  relation classification, file inventory extraction, apply-check probes,
  collision detection, and human-readable time/age formatting.

* Expand `README.md` into full operational documentation with scope/exactness
  model, command semantics, safety controls, troubleshooting guidance, and
  porcelain contract examples.

* Update workflow-skill command contract docs and add test coverage for human
  output, porcelain output, and `diff`/`compare` behaviors.

v1.0.2 (2026-02-25)

* Change snapshot storage layout to write snapshots directly under
  `~/git-snapshots/<root-most-repo-name>/<snapshot_id>` (remove the extra
  `snapshots/` sub-folder).

* Update `git-snapshot` tests and docs to match the new root-level snapshot
  directory structure.

v1.0.1 (2026-02-25)

* Fix `git-snapshot create <snapshot_id>` to preserve the explicit snapshot id
  instead of always generating an auto id.

* Add snapshot id validation for `create`, `show`, `restore`, and `delete`
  (reject empty, path-like, or invalid-character ids).

* Add regression coverage for explicit snapshot ids, duplicate-id rejection,
  and invalid-id rejection.

v1.0.0 (2026-02-25)

* Add `git-snapshot` CLI with root-most repo discovery, scoped safety guard,
  create/show/list/delete flows, and restore verification.

* Add restore safety model with typed confirmation, auto safety snapshot,
  best-effort HEAD-mismatch restore, and automatic rollback on failure.

* Add dependency-free temp-only test suite covering nested submodules,
  PWD-level scope resolution, exact restore parity, head-mismatch behavior,
  rollback behavior, and enforce-prefix protection.

* Add shared `git-snapshot-workflow` skill in `skills/` with reusable command
  contract docs and a generic repo-link helper for consumer symlink onboarding.
